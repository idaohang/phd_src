%%% Макет страницы %%%
\geometry{asymmetric,a4paper,top=2cm,bottom=2cm,left=3.5cm,right=1cm} % showframe

%%% Кодировки и шрифты %%%
\renewcommand{\rmdefault}{ftm} % Включаем Times New Roman

%%% Выравнивание и переносы %%%
\sloppy					% Избавляемся от переполнений
\clubpenalty=10000		% Запрещаем разрыв страницы после первой строки абзаца
\widowpenalty=10000		% Запрещаем разрыв страницы после последней строки абзаца

%%% Библиография %%%
\makeatletter
\bibliographystyle{utf8gost705u}	% Оформляем библиографию в соответствии с ГОСТ 7.0.5
\renewcommand{\@biblabel}[1]{#1.}	% Заменяем библиографию с квадратных скобок на точку:
\makeatother

%%% Изображения %%%
\graphicspath{{../images/}} %путь к рисункам

%%% Цвета гиперссылок %%%
\definecolor{linkcolor}{rgb}{0.9,0,0}
\definecolor{citecolor}{rgb}{0,0.6,0}
\definecolor{urlcolor}{rgb}{0,0,1}
\hypersetup{
    colorlinks, linkcolor={linkcolor},
    citecolor={citecolor}, urlcolor={urlcolor}
}

% listing
\renewcommand{\lstlistingname}{Листинг}% Listing -> Algorithm
%\renewcommand{\lstlistlistingname}{List of \lstlistingname s}% List of Listings -> List of Algorithms

%%% Оглавление %%%
\renewcommand{\cftchapdotsep}{\cftdotsep}
\addtocontents{toc}{~\hfill{Стр.}\par}			% добавить Стр. над номерами страниц
\setcounter{tocdepth}{1}

\titleformat{\chapter}[hang]{\bfseries}{\thechapter\hsp\textcolor{gray75}{|}\hsp}{0pt}{\bfseries}
\titleformat{\section}[hang]{\bfseries}{\thesection\hsp\textcolor{gray75}{|}\hsp}{0pt}{\bfseries}

% шрифты
\usepackage{sectsty}
\partfont{\fontsize{14pt}{14pt}\selectfont}
\chapterfont{\fontsize{14pt}{14pt}\selectfont}
\sectionfont{\fontsize{14pt}{14pt}\selectfont}
\subsectionfont{\fontsize{14pt}{14pt}\selectfont}
\subsubsectionfont{\fontsize{14pt}{14pt}\selectfont}

\titlespacing{\chapter}{0pt}{\parskip}{-\parskip}
\titlespacing{\section}{0pt}{\parskip}{-\parskip}
\titlespacing{\subsection}{0pt}{\parskip}{-\parskip}
\titlespacing{\subsubsection}{0pt}{\parskip}{-\parskip}

\abovedisplayskip=12pt plus 3pt minus 9pt
\abovedisplayshortskip=0pt plus 3pt
\belowdisplayskip=12pt plus 3pt minus 9pt
\belowdisplayshortskip=7pt plus 3pt minus 4pt

% формат нумерации списков 
\renewcommand{\theenumi}{\arabic{enumi}.} % Меняем везде перечисления на цифра.цифра
\renewcommand{\labelenumi}{\arabic{enumi}.} % Меняем везде перечисления на цифра.цифра
\renewcommand{\theenumii}{\arabic{enumii}.} % Меняем везде перечисления на цифра.цифра
\renewcommand{\labelenumii}{\arabic{enumi}.\arabic{enumii}.}% Меняем везде перечисления на цифра.цифра
\renewcommand{\theenumiii}{\arabic{enumiii}} % Меняем везде перечисления на цифра.цифра
\renewcommand{\labelenumiii}{\arabic{enumi}.\arabic{enumii}.\arabic{enumiii}.}% Меняем везде перечисления на цифра.цифра

% формат нумерации заголовков, рисунков, таблиц
\renewcommand{\thechapter}{\arabic{chapter}.}
\renewcommand{\thesection}{\thechapter\arabic{section}.}
\renewcommand{\thesubsection}{\thesection\arabic{subsection}.}
\renewcommand{\thetable}{\arabic{table}}
\renewcommand{\thefigure}{\arabic{figure}}
\renewcommand{\theequation}{\arabic{equation}} % будет переопределена в Главе 1

% меняем Оглавление с жирной и огромной на лаконичную - 14 pt, Times New Roman, по центру - ппц как было не просто (работает с babel)
\addto\captionsrussian{% Replace "english" with the language you use
  \renewcommand{\contentsname}{\sffamily\fontsize{14pt}{14pt}\selectfont{\texttm{\hfill Оглавление \hfill}}}
}

%% Нумерация страниц
\newcommand{\changefont}{%
    \fontsize{14pt}{14pt}\selectfont
}

\usepackage{fancyhdr}
\pagestyle{fancy} {%
	\fancyhf{}
	\fancyhead[CE,CO]{\changefont \thepage}
	\headsep = -1.5cm
}

\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

% Redefine the plain page style
\fancypagestyle{plain}{%
	\fancyhf{}
	\fancyhead[CE,CO]{\changefont \thepage}
	\headsep = -1.5cm
}

\titleformat{\section}[runin]{}{}{}{}[]

% отключить переносы
%\pretolerance10000
